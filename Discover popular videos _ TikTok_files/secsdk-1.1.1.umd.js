/*!
* @byted/secsdk v1.1.1
* (c) 2020
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).secsdk={})}(this,(function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t,e){return t(e={exports:{}},e.exports),e.exports}var i=function(t){return t&&t.Math==Math&&t},a=i("object"==("undefined"==typeof globalThis?"undefined":e(globalThis))&&globalThis)||i("object"==("undefined"==typeof window?"undefined":e(window))&&window)||i("object"==("undefined"==typeof self?"undefined":e(self))&&self)||i("object"==e(n)&&n)||function(){return this}()||Function("return this")(),c=function(t){try{return!!t()}catch(e){return!0}},u=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,l={f:f&&!s.call({1:2},1)?function(t){var e=f(this,t);return!!e&&e.enumerable}:s},h=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},p={}.toString,v=function(t){return p.call(t).slice(8,-1)},d="".split,y=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==v(t)?d.call(t,""):Object(t)}:Object,g=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},m=function(t){return y(g(t))},b=function(t){return"object"===e(t)?null!==t:"function"==typeof t},w=function(t,e){if(!b(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!b(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!b(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},S={}.hasOwnProperty,k=function(t,e){return S.call(t,e)},L=a.document,A=b(L)&&b(L.createElement),j=function(t){return A?L.createElement(t):{}},R=!u&&!c((function(){return 7!=Object.defineProperty(j("div"),"a",{get:function(){return 7}}).a})),E=Object.getOwnPropertyDescriptor,O={f:u?E:function(t,e){if(t=m(t),e=w(e,!0),R)try{return E(t,e)}catch(r){}if(k(t,e))return h(!l.f.call(t,e),t[e])}},P=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},T=Object.defineProperty,U={f:u?T:function(t,e,r){if(P(t),e=w(e,!0),P(r),R)try{return T(t,e,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},q=u?function(t,e,r){return U.f(t,e,h(1,r))}:function(t,e,r){return t[e]=r,t},x=function(t,e){try{q(a,t,e)}catch(r){a[t]=e}return e},I=a["__core-js_shared__"]||x("__core-js_shared__",{}),M=Function.toString;"function"!=typeof I.inspectSource&&(I.inspectSource=function(t){return M.call(t)});var C,F,_,H=I.inspectSource,N=a.WeakMap,B="function"==typeof N&&/native code/.test(H(N)),D=o((function(t){(t.exports=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.0",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),G=0,X=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+X).toString(36)},z=D("keys"),W=function(t){return z[t]||(z[t]=V(t))},$={},J=a.WeakMap;if(B){var Y=I.state||(I.state=new J),K=Y.get,Z=Y.has,Q=Y.set;C=function(t,e){return e.facade=t,Q.call(Y,t,e),e},F=function(t){return K.call(Y,t)||{}},_=function(t){return Z.call(Y,t)}}else{var tt=W("state");$[tt]=!0,C=function(t,e){return e.facade=t,q(t,tt,e),e},F=function(t){return k(t,tt)?t[tt]:{}},_=function(t){return k(t,tt)}}var et,rt={set:C,get:F,has:_,enforce:function(t){return _(t)?F(t):C(t,{})},getterFor:function(t){return function(e){var r;if(!b(e)||(r=F(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},nt=o((function(t){var e=rt.get,r=rt.enforce,n=String(String).split("String");(t.exports=function(t,e,o,i){var c,u=!!i&&!!i.unsafe,s=!!i&&!!i.enumerable,f=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||k(o,"name")||q(o,"name",e),(c=r(o)).source||(c.source=n.join("string"==typeof e?e:""))),t!==a?(u?!f&&t[e]&&(s=!0):delete t[e],s?t[e]=o:q(t,e,o)):s?t[e]=o:x(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||H(this)}))})),ot=a,it=function(t){return"function"==typeof t?t:void 0},at=function(t,e){return arguments.length<2?it(ot[t])||it(a[t]):ot[t]&&ot[t][e]||a[t]&&a[t][e]},ct=Math.ceil,ut=Math.floor,st=function(t){return isNaN(t=+t)?0:(t>0?ut:ct)(t)},ft=Math.min,lt=function(t){return t>0?ft(st(t),9007199254740991):0},ht=Math.max,pt=Math.min,vt=function(t){return function(e,r,n){var o,i=m(e),a=lt(i.length),c=function(t,e){var r=st(t);return r<0?ht(r+e,0):pt(r,e)}(n,a);if(t&&r!=r){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===r)return t||c||0;return!t&&-1}},dt={includes:vt(!0),indexOf:vt(!1)},yt=dt.indexOf,gt=function(t,e){var r,n=m(t),o=0,i=[];for(r in n)!k($,r)&&k(n,r)&&i.push(r);for(;e.length>o;)k(n,r=e[o++])&&(~yt(i,r)||i.push(r));return i},mt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bt=mt.concat("length","prototype"),wt={f:Object.getOwnPropertyNames||function(t){return gt(t,bt)}},St={f:Object.getOwnPropertySymbols},kt=at("Reflect","ownKeys")||function(t){var e=wt.f(P(t)),r=St.f;return r?e.concat(r(t)):e},Lt=function(t,e){for(var r=kt(e),n=U.f,o=O.f,i=0;i<r.length;i++){var a=r[i];k(t,a)||n(t,a,o(e,a))}},At=/#|\.prototype\./,jt=function(t,e){var r=Et[Rt(t)];return r==Pt||r!=Ot&&("function"==typeof e?c(e):!!e)},Rt=jt.normalize=function(t){return String(t).replace(At,".").toLowerCase()},Et=jt.data={},Ot=jt.NATIVE="N",Pt=jt.POLYFILL="P",Tt=jt,Ut=O.f,qt=function(t,r){var n,o,i,c,u,s=t.target,f=t.global,l=t.stat;if(n=f?a:l?a[s]||x(s,{}):(a[s]||{}).prototype)for(o in r){if(c=r[o],i=t.noTargetGet?(u=Ut(n,o))&&u.value:n[o],!Tt(f?o:s+(l?".":"#")+o,t.forced)&&void 0!==i){if(e(c)===e(i))continue;Lt(c,i)}(t.sham||i&&i.sham)&&q(c,"sham",!0),nt(n,o,c,t)}},xt=function(t){return Object(g(t))},It=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Mt=W("IE_PROTO"),Ct=Object.prototype,Ft=It?Object.getPrototypeOf:function(t){return t=xt(t),k(t,Mt)?t[Mt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ct:null},_t=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(n){}return function(r,n){return P(r),function(t){if(!b(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),Ht=Object.keys||function(t){return gt(t,mt)},Nt=u?Object.defineProperties:function(t,e){P(t);for(var r,n=Ht(e),o=n.length,i=0;o>i;)U.f(t,r=n[i++],e[r]);return t},Bt=at("document","documentElement"),Dt=W("IE_PROTO"),Gt=function(){},Xt=function(t){return"<script>"+t+"<\/script>"},Vt=function(){try{et=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var t,e;Vt=et?function(t){t.write(Xt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(et):((e=j("iframe")).style.display="none",Bt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Xt("document.F=Object")),t.close(),t.F);for(var r=mt.length;r--;)delete Vt.prototype[mt[r]];return Vt()};$[Dt]=!0;var zt=Object.create||function(t,e){var r;return null!==t?(Gt.prototype=P(t),r=new Gt,Gt.prototype=null,r[Dt]=t):r=Vt(),void 0===e?r:Nt(r,e)},Wt=!!Object.getOwnPropertySymbols&&!c((function(){return!String(Symbol())})),$t=Wt&&!Symbol.sham&&"symbol"==e(Symbol.iterator),Jt=D("wks"),Yt=a.Symbol,Kt=$t?Yt:Yt&&Yt.withoutSetter||V,Zt=function(t){return k(Jt,t)||(Wt&&k(Yt,t)?Jt[t]=Yt[t]:Jt[t]=Kt("Symbol."+t)),Jt[t]},Qt={},te=Zt("iterator"),ee=Array.prototype,re=function(t){return void 0!==t&&(Qt.Array===t||ee[te]===t)},ne=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},oe=function(t,e,r){if(ne(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},ie={};ie[Zt("toStringTag")]="z";var ae="[object z]"===String(ie),ce=Zt("toStringTag"),ue="Arguments"==v(function(){return arguments}()),se=ae?v:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(r){}}(e=Object(t),ce))?r:ue?v(e):"Object"==(n=v(e))&&"function"==typeof e.callee?"Arguments":n},fe=Zt("iterator"),le=function(t){if(null!=t)return t[fe]||t["@@iterator"]||Qt[se(t)]},he=function(t){var e=t.return;if(void 0!==e)return P(e.call(t)).value},pe=function(t,e){this.stopped=t,this.result=e},ve=function(t,r,n){var o,i,a,c,u,s,f,l=n&&n.that,h=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),d=oe(r,l,1+h+v),y=function(t){return o&&he(o),new pe(!0,t)},g=function(t){return h?(P(t),v?d(t[0],t[1],y):d(t[0],t[1])):v?d(t,y):d(t)};if(p)o=t;else{if("function"!=typeof(i=le(t)))throw TypeError("Target is not iterable");if(re(i)){for(a=0,c=lt(t.length);c>a;a++)if((u=g(t[a]))&&u instanceof pe)return u;return new pe(!1)}o=i.call(t)}for(s=o.next;!(f=s.call(o)).done;){try{u=g(f.value)}catch(m){throw he(o),m}if("object"==e(u)&&u&&u instanceof pe)return u}return new pe(!1)},de=function(t,e){var r=this;if(!(r instanceof de))return new de(t,e);_t&&(r=_t(new Error(void 0),Ft(r))),void 0!==e&&q(r,"message",String(e));var n=[];return ve(t,n.push,{that:n}),q(r,"errors",n),r};de.prototype=zt(Error.prototype,{constructor:h(5,de),message:h(5,""),name:h(5,"AggregateError")}),qt({global:!0},{AggregateError:de});var ye=ae?{}.toString:function(){return"[object "+se(this)+"]"};ae||nt(Object.prototype,"toString",ye,{unsafe:!0});var ge=a.Promise,me=function(t,e,r){for(var n in e)nt(t,n,e[n],r);return t},be=U.f,we=Zt("toStringTag"),Se=function(t,e,r){t&&!k(t=r?t:t.prototype,we)&&be(t,we,{configurable:!0,value:e})},ke=Zt("species"),Le=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},Ae=Zt("iterator"),je=!1;try{var Re=0,Ee={next:function(){return{done:!!Re++}},return:function(){je=!0}};Ee[Ae]=function(){return this},Array.from(Ee,(function(){throw 2}))}catch(ba){}var Oe,Pe,Te,Ue=Zt("species"),qe=function(t,e){var r,n=P(t).constructor;return void 0===n||null==(r=P(n)[Ue])?e:ne(r)},xe=at("navigator","userAgent")||"",Ie=/(iphone|ipod|ipad).*applewebkit/i.test(xe),Me="process"==v(a.process),Ce=a.location,Fe=a.setImmediate,_e=a.clearImmediate,He=a.process,Ne=a.MessageChannel,Be=a.Dispatch,De=0,Ge={},Xe=function(t){if(Ge.hasOwnProperty(t)){var e=Ge[t];delete Ge[t],e()}},Ve=function(t){return function(){Xe(t)}},ze=function(t){Xe(t.data)},We=function(t){a.postMessage(t+"",Ce.protocol+"//"+Ce.host)};Fe&&_e||(Fe=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return Ge[++De]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Oe(De),De},_e=function(t){delete Ge[t]},Me?Oe=function(t){He.nextTick(Ve(t))}:Be&&Be.now?Oe=function(t){Be.now(Ve(t))}:Ne&&!Ie?(Te=(Pe=new Ne).port2,Pe.port1.onmessage=ze,Oe=oe(Te.postMessage,Te,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&Ce&&"file:"!==Ce.protocol&&!c(We)?(Oe=We,a.addEventListener("message",ze,!1)):Oe="onreadystatechange"in j("script")?function(t){Bt.appendChild(j("script")).onreadystatechange=function(){Bt.removeChild(this),Xe(t)}}:function(t){setTimeout(Ve(t),0)});var $e,Je,Ye,Ke,Ze,Qe,tr,er,rr={set:Fe,clear:_e},nr=O.f,or=rr.set,ir=a.MutationObserver||a.WebKitMutationObserver,ar=a.document,cr=a.process,ur=a.Promise,sr=nr(a,"queueMicrotask"),fr=sr&&sr.value;fr||($e=function(){var t,e;for(Me&&(t=cr.domain)&&t.exit();Je;){e=Je.fn,Je=Je.next;try{e()}catch(ba){throw Je?Ke():Ye=void 0,ba}}Ye=void 0,t&&t.enter()},!Ie&&!Me&&ir&&ar?(Ze=!0,Qe=ar.createTextNode(""),new ir($e).observe(Qe,{characterData:!0}),Ke=function(){Qe.data=Ze=!Ze}):ur&&ur.resolve?(tr=ur.resolve(void 0),er=tr.then,Ke=function(){er.call(tr,$e)}):Ke=Me?function(){cr.nextTick($e)}:function(){or.call(a,$e)});var lr,hr,pr=fr||function(t){var e={fn:t,next:void 0};Ye&&(Ye.next=e),Je||(Je=e,Ke()),Ye=e},vr=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=ne(e),this.reject=ne(r)},dr={f:function(t){return new vr(t)}},yr=function(t,e){if(P(t),b(e)&&e.constructor===t)return e;var r=dr.f(t);return(0,r.resolve)(e),r.promise},gr=function(t){try{return{error:!1,value:t()}}catch(ba){return{error:!0,value:ba}}},mr=a.process,br=mr&&mr.versions,wr=br&&br.v8;wr?hr=(lr=wr.split("."))[0]+lr[1]:xe&&(!(lr=xe.match(/Edge\/(\d+)/))||lr[1]>=74)&&(lr=xe.match(/Chrome\/(\d+)/))&&(hr=lr[1]);var Sr,kr,Lr,Ar,jr=hr&&+hr,Rr=rr.set,Er=Zt("species"),Or="Promise",Pr=rt.get,Tr=rt.set,Ur=rt.getterFor(Or),qr=ge,xr=a.TypeError,Ir=a.document,Mr=a.process,Cr=at("fetch"),Fr=dr.f,_r=Fr,Hr=!!(Ir&&Ir.createEvent&&a.dispatchEvent),Nr="function"==typeof PromiseRejectionEvent,Br=Tt(Or,(function(){if(!(H(qr)!==String(qr))){if(66===jr)return!0;if(!Me&&!Nr)return!0}if(jr>=51&&/native code/.test(qr))return!1;var t=qr.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[Er]=e,!(t.then((function(){}))instanceof e)})),Dr=Br||!function(t,e){if(!e&&!je)return!1;var r=!1;try{var n={};n[Ae]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(ba){}return r}((function(t){qr.all(t).catch((function(){}))})),Gr=function(t){var e;return!(!b(t)||"function"!=typeof(e=t.then))&&e},Xr=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;pr((function(){for(var n=t.value,o=1==t.state,i=0;r.length>i;){var a,c,u,s=r[i++],f=o?s.ok:s.fail,l=s.resolve,h=s.reject,p=s.domain;try{f?(o||(2===t.rejection&&$r(t),t.rejection=1),!0===f?a=n:(p&&p.enter(),a=f(n),p&&(p.exit(),u=!0)),a===s.promise?h(xr("Promise-chain cycle")):(c=Gr(a))?c.call(a,l,h):l(a)):h(n)}catch(ba){p&&!u&&p.exit(),h(ba)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&zr(t)}))}},Vr=function(t,e,r){var n,o;Hr?((n=Ir.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),a.dispatchEvent(n)):n={promise:e,reason:r},!Nr&&(o=a["on"+t])?o(n):"unhandledrejection"===t&&function(t,e){var r=a.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},zr=function(t){Rr.call(a,(function(){var e,r=t.facade,n=t.value;if(Wr(t)&&(e=gr((function(){Me?Mr.emit("unhandledRejection",n,r):Vr("unhandledrejection",r,n)})),t.rejection=Me||Wr(t)?2:1,e.error))throw e.value}))},Wr=function(t){return 1!==t.rejection&&!t.parent},$r=function(t){Rr.call(a,(function(){var e=t.facade;Me?Mr.emit("rejectionHandled",e):Vr("rejectionhandled",e,t.value)}))},Jr=function(t,e,r){return function(n){t(e,n,r)}},Yr=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,Xr(t,!0))},Kr=function t(e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===r)throw xr("Promise can't be resolved itself");var o=Gr(r);o?pr((function(){var n={done:!1};try{o.call(r,Jr(t,n,e),Jr(Yr,n,e))}catch(ba){Yr(n,ba,e)}})):(e.value=r,e.state=1,Xr(e,!1))}catch(ba){Yr({done:!1},ba,e)}}};Br&&(qr=function(t){Le(this,qr,Or),ne(t),Sr.call(this);var e=Pr(this);try{t(Jr(Kr,e),Jr(Yr,e))}catch(ba){Yr(e,ba)}},(Sr=function(t){Tr(this,{type:Or,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=me(qr.prototype,{then:function(t,e){var r=Ur(this),n=Fr(qe(this,qr));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Me?Mr.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Xr(r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),kr=function(){var t=new Sr,e=Pr(t);this.promise=t,this.resolve=Jr(Kr,e),this.reject=Jr(Yr,e)},dr.f=Fr=function(t){return t===qr||t===Lr?new kr(t):_r(t)},"function"==typeof ge&&(Ar=ge.prototype.then,nt(ge.prototype,"then",(function(t,e){var r=this;return new qr((function(t,e){Ar.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Cr&&qt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return yr(qr,Cr.apply(a,arguments))}}))),qt({global:!0,wrap:!0,forced:Br},{Promise:qr}),Se(qr,Or,!1),function(t){var e=at(t),r=U.f;u&&e&&!e[ke]&&r(e,ke,{configurable:!0,get:function(){return this}})}(Or),Lr=at(Or),qt({target:Or,stat:!0,forced:Br},{reject:function(t){var e=Fr(this);return e.reject.call(void 0,t),e.promise}}),qt({target:Or,stat:!0,forced:Br},{resolve:function(t){return yr(this,t)}}),qt({target:Or,stat:!0,forced:Dr},{all:function(t){var e=this,r=Fr(e),n=r.resolve,o=r.reject,i=gr((function(){var r=ne(e.resolve),i=[],a=0,c=1;ve(t,(function(t){var u=a++,s=!1;i.push(void 0),c++,r.call(e,t).then((function(t){s||(s=!0,i[u]=t,--c||n(i))}),o)})),--c||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=Fr(e),n=r.reject,o=gr((function(){var o=ne(e.resolve);ve(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}}),qt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=dr.f(e),n=r.resolve,o=r.reject,i=gr((function(){var r=ne(e.resolve),o=[],i=0,a=1;ve(t,(function(t){var c=i++,u=!1;o.push(void 0),a++,r.call(e,t).then((function(t){u||(u=!0,o[c]={status:"fulfilled",value:t},--a||n(o))}),(function(t){u||(u=!0,o[c]={status:"rejected",reason:t},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});qt({target:"Promise",stat:!0},{any:function(t){var e=this,r=dr.f(e),n=r.resolve,o=r.reject,i=gr((function(){var r=ne(e.resolve),i=[],a=0,c=1,u=!1;ve(t,(function(t){var s=a++,f=!1;i.push(void 0),c++,r.call(e,t).then((function(t){f||u||(u=!0,n(t))}),(function(t){f||u||(f=!0,i[s]=t,--c||o(new(at("AggregateError"))(i,"No one promise resolved")))}))})),--c||o(new(at("AggregateError"))(i,"No one promise resolved"))}));return i.error&&o(i.value),r.promise}});var Zr=!!ge&&c((function(){ge.prototype.finally.call({then:function(){}},(function(){}))}));qt({target:"Promise",proto:!0,real:!0,forced:Zr},{finally:function(t){var e=qe(this,at("Promise")),r="function"==typeof t;return this.then(r?function(r){return yr(e,t()).then((function(){return r}))}:t,r?function(r){return yr(e,t()).then((function(){throw r}))}:t)}}),"function"!=typeof ge||ge.prototype.finally||nt(ge.prototype,"finally",at("Promise").prototype.finally);var Qr,tn,en,rn=function(t){return function(e,r){var n,o,i=String(g(e)),a=st(r),c=i.length;return a<0||a>=c?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},nn={codeAt:rn(!1),charAt:rn(!0)},on=Zt("iterator"),an=!1;[].keys&&("next"in(en=[].keys())?(tn=Ft(Ft(en)))!==Object.prototype&&(Qr=tn):an=!0),null==Qr&&(Qr={}),k(Qr,on)||q(Qr,on,(function(){return this}));var cn={IteratorPrototype:Qr,BUGGY_SAFARI_ITERATORS:an},un=cn.IteratorPrototype,sn=function(){return this},fn=function(t,e,r){var n=e+" Iterator";return t.prototype=zt(un,{next:h(1,r)}),Se(t,n,!1),Qt[n]=sn,t},ln=cn.IteratorPrototype,hn=cn.BUGGY_SAFARI_ITERATORS,pn=Zt("iterator"),vn=function(){return this},dn=function(t,e,r,n,o,i,a){fn(r,e,n);var c,u,s,f=function(t){if(t===o&&d)return d;if(!hn&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",h=!1,p=t.prototype,v=p[pn]||p["@@iterator"]||o&&p[o],d=!hn&&v||f(o),y="Array"==e&&p.entries||v;if(y&&(c=Ft(y.call(new t)),ln!==Object.prototype&&c.next&&(Ft(c)!==ln&&(_t?_t(c,ln):"function"!=typeof c[pn]&&q(c,pn,vn)),Se(c,l,!0))),"values"==o&&v&&"values"!==v.name&&(h=!0,d=function(){return v.call(this)}),p[pn]!==d&&q(p,pn,d),Qt[e]=d,o)if(u={values:f("values"),keys:i?d:f("keys"),entries:f("entries")},a)for(s in u)(hn||h||!(s in p))&&nt(p,s,u[s]);else qt({target:e,proto:!0,forced:hn||h},u);return u},yn=nn.charAt,gn=rt.set,mn=rt.getterFor("String Iterator");dn(String,"String",(function(t){gn(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=mn(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=yn(r,n),e.index+=t.length,{value:t,done:!1})}));var bn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},wn=Zt("unscopables"),Sn=Array.prototype;null==Sn[wn]&&U.f(Sn,wn,{configurable:!0,value:zt(null)});var kn=function(t){Sn[wn][t]=!0},Ln=rt.set,An=rt.getterFor("Array Iterator"),jn=dn(Array,"Array",(function(t,e){Ln(this,{type:"Array Iterator",target:m(t),index:0,kind:e})}),(function(){var t=An(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");Qt.Arguments=Qt.Array,kn("keys"),kn("values"),kn("entries");var Rn=Zt("iterator"),En=Zt("toStringTag"),On=jn.values;for(var Pn in bn){var Tn=a[Pn],Un=Tn&&Tn.prototype;if(Un){if(Un[Rn]!==On)try{q(Un,Rn,On)}catch(ba){Un[Rn]=On}if(Un[En]||q(Un,En,Pn),bn[Pn])for(var qn in jn)if(Un[qn]!==jn[qn])try{q(Un,qn,jn[qn])}catch(ba){Un[qn]=jn[qn]}}}ot.Promise;qt({target:"Promise",stat:!0},{try:function(t){var e=dr.f(this),r=gr(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});var xn=Array.isArray||function(t){return"Array"==v(t)};qt({target:"Array",stat:!0},{isArray:xn});ot.Array.isArray;var In=Zt("species"),Mn=function(t,e){var r;return xn(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!xn(r.prototype)?b(r)&&null===(r=r[In])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},Cn=[].push,Fn=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,c=5==t||i;return function(u,s,f,l){for(var h,p,v=xt(u),d=y(v),g=oe(s,f,3),m=lt(d.length),b=0,w=l||Mn,S=e?w(u,m):r||a?w(u,0):void 0;m>b;b++)if((c||b in d)&&(p=g(h=d[b],b,v),t))if(e)S[b]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return b;case 2:Cn.call(S,h)}else switch(t){case 4:return!1;case 7:Cn.call(S,h)}return i?-1:n||o?o:S}},_n={forEach:Fn(0),map:Fn(1),filter:Fn(2),some:Fn(3),every:Fn(4),find:Fn(5),findIndex:Fn(6),filterOut:Fn(7)},Hn=function(t,e){var r=[][t];return!!r&&c((function(){r.call(null,e||function(){throw 1},1)}))},Nn=Object.defineProperty,Bn={},Dn=function(t){throw t},Gn=function(t,e){if(k(Bn,t))return Bn[t];e||(e={});var r=[][t],n=!!k(e,"ACCESSORS")&&e.ACCESSORS,o=k(e,0)?e[0]:Dn,i=k(e,1)?e[1]:void 0;return Bn[t]=!!r&&!c((function(){if(n&&!u)return!0;var t={length:-1};n?Nn(t,1,{enumerable:!0,get:Dn}):t[1]=1,r.call(t,o,i)}))},Xn=_n.forEach,Vn=Hn("forEach"),zn=Gn("forEach"),Wn=Vn&&zn?[].forEach:function(t){return Xn(this,t,arguments.length>1?arguments[1]:void 0)};qt({target:"Array",proto:!0,forced:[].forEach!=Wn},{forEach:Wn});var $n=Function.call,Jn=function(t,e,r){return oe($n,a[t].prototype[e],r)},Yn=(Jn("Array","forEach"),Zt("species")),Kn=_n.map,Zn=function(t){return jr>=51||!c((function(){var e=[];return(e.constructor={})[Yn]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}("map"),Qn=Gn("map");qt({target:"Array",proto:!0,forced:!Zn||!Qn},{map:function(t){return Kn(this,t,arguments.length>1?arguments[1]:void 0)}});Jn("Array","map");var to=_n.some,eo=Hn("some"),ro=Gn("some");qt({target:"Array",proto:!0,forced:!eo||!ro},{some:function(t){return to(this,t,arguments.length>1?arguments[1]:void 0)}});Jn("Array","some");var no=dt.includes,oo=Gn("indexOf",{ACCESSORS:!0,1:0});qt({target:"Array",proto:!0,forced:!oo},{includes:function(t){return no(this,t,arguments.length>1?arguments[1]:void 0)}}),kn("includes");Jn("Array","includes");var io=Object.assign,ao=Object.defineProperty,co=!io||c((function(){if(u&&1!==io({b:1},io(ao({},"a",{enumerable:!0,get:function(){ao(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=io({},t)[r]||"abcdefghijklmnopqrst"!=Ht(io({},e)).join("")}))?function(t,e){for(var r=xt(t),n=arguments.length,o=1,i=St.f,a=l.f;n>o;)for(var c,s=y(arguments[o++]),f=i?Ht(s).concat(i(s)):Ht(s),h=f.length,p=0;h>p;)c=f[p++],u&&!a.call(s,c)||(r[c]=s[c]);return r}:io;qt({target:"Object",stat:!0,forced:Object.assign!==co},{assign:co});ot.Object.assign;var uo=c((function(){Ht(1)}));qt({target:"Object",stat:!0,forced:uo},{keys:function(t){return Ht(xt(t))}});ot.Object.keys;var so=Zt("iterator"),fo=!c((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[so]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),lo=function(t,e,r,n){try{return n?e(P(r)[0],r[1]):e(r)}catch(ba){throw he(t),ba}},ho=function(t,e,r){var n=w(e);n in t?U.f(t,n,h(0,r)):t[n]=r},po=function(t){var e,r,n,o,i,a,c=xt(t),u="function"==typeof this?this:Array,s=arguments.length,f=s>1?arguments[1]:void 0,l=void 0!==f,h=le(c),p=0;if(l&&(f=oe(f,s>2?arguments[2]:void 0,2)),null==h||u==Array&&re(h))for(r=new u(e=lt(c.length));e>p;p++)a=l?f(c[p],p):c[p],ho(r,p,a);else for(i=(o=h.call(c)).next,r=new u;!(n=i.call(o)).done;p++)a=l?lo(o,f,[n.value,p],!0):n.value,ho(r,p,a);return r.length=p,r},vo=/[^\0-\u007E]/,yo=/[.\u3002\uFF0E\uFF61]/g,go="Overflow: input needs wider integers to process",mo=Math.floor,bo=String.fromCharCode,wo=function(t){return t+22+75*(t<26)},So=function(t,e,r){var n=0;for(t=r?mo(t/700):t>>1,t+=mo(t/e);t>455;n+=36)t=mo(t/35);return mo(n+36*t/(t+38))},ko=function(t){var e,r,n=[],o=(t=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=t.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=t.charCodeAt(r++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),r--)}else e.push(o)}return e}(t)).length,i=128,a=0,c=72;for(e=0;e<t.length;e++)(r=t[e])<128&&n.push(bo(r));var u=n.length,s=u;for(u&&n.push("-");s<o;){var f=2147483647;for(e=0;e<t.length;e++)(r=t[e])>=i&&r<f&&(f=r);var l=s+1;if(f-i>mo((2147483647-a)/l))throw RangeError(go);for(a+=(f-i)*l,i=f,e=0;e<t.length;e++){if((r=t[e])<i&&++a>2147483647)throw RangeError(go);if(r==i){for(var h=a,p=36;;p+=36){var v=p<=c?1:p>=c+26?26:p-c;if(h<v)break;var d=h-v,y=36-v;n.push(bo(wo(v+d%y))),h=mo(d/y)}n.push(bo(wo(h))),c=So(a,l,s==u),a=0,++s}}++a,++i}return n.join("")},Lo=function(t){var e=le(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return P(e.call(t))},Ao=at("fetch"),jo=at("Headers"),Ro=Zt("iterator"),Eo=rt.set,Oo=rt.getterFor("URLSearchParams"),Po=rt.getterFor("URLSearchParamsIterator"),To=/\+/g,Uo=Array(4),qo=function(t){return Uo[t-1]||(Uo[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},xo=function(t){try{return decodeURIComponent(t)}catch(ba){return t}},Io=function(t){var e=t.replace(To," "),r=4;try{return decodeURIComponent(e)}catch(ba){for(;r;)e=e.replace(qo(r--),xo);return e}},Mo=/[!'()~]|%20/g,Co={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Fo=function(t){return Co[t]},_o=function(t){return encodeURIComponent(t).replace(Mo,Fo)},Ho=function(t,e){if(e)for(var r,n,o=e.split("&"),i=0;i<o.length;)(r=o[i++]).length&&(n=r.split("="),t.push({key:Io(n.shift()),value:Io(n.join("="))}))},No=function(t){this.entries.length=0,Ho(this.entries,t)},Bo=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Do=fn((function(t,e){Eo(this,{type:"URLSearchParamsIterator",iterator:Lo(Oo(t).entries),kind:e})}),"Iterator",(function(){var t=Po(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r})),Go=function(){Le(this,Go,"URLSearchParams");var t,e,r,n,o,i,a,c,u,s=arguments.length>0?arguments[0]:void 0,f=this,l=[];if(Eo(f,{type:"URLSearchParams",entries:l,updateURL:function(){},updateSearchParams:No}),void 0!==s)if(b(s))if("function"==typeof(t=le(s)))for(r=(e=t.call(s)).next;!(n=r.call(e)).done;){if((a=(i=(o=Lo(P(n.value))).next).call(o)).done||(c=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");l.push({key:a.value+"",value:c.value+""})}else for(u in s)k(s,u)&&l.push({key:u,value:s[u]+""});else Ho(l,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},Xo=Go.prototype;me(Xo,{append:function(t,e){Bo(arguments.length,2);var r=Oo(this);r.entries.push({key:t+"",value:e+""}),r.updateURL()},delete:function(t){Bo(arguments.length,1);for(var e=Oo(this),r=e.entries,n=t+"",o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;e.updateURL()},get:function(t){Bo(arguments.length,1);for(var e=Oo(this).entries,r=t+"",n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){Bo(arguments.length,1);for(var e=Oo(this).entries,r=t+"",n=[],o=0;o<e.length;o++)e[o].key===r&&n.push(e[o].value);return n},has:function(t){Bo(arguments.length,1);for(var e=Oo(this).entries,r=t+"",n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){Bo(arguments.length,1);for(var r,n=Oo(this),o=n.entries,i=!1,a=t+"",c=e+"",u=0;u<o.length;u++)(r=o[u]).key===a&&(i?o.splice(u--,1):(i=!0,r.value=c));i||o.push({key:a,value:c}),n.updateURL()},sort:function(){var t,e,r,n=Oo(this),o=n.entries,i=o.slice();for(o.length=0,r=0;r<i.length;r++){for(t=i[r],e=0;e<r;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===r&&o.push(t)}n.updateURL()},forEach:function(t){for(var e,r=Oo(this).entries,n=oe(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((e=r[o++]).value,e.key,this)},keys:function(){return new Do(this,"keys")},values:function(){return new Do(this,"values")},entries:function(){return new Do(this,"entries")}},{enumerable:!0}),nt(Xo,Ro,Xo.entries),nt(Xo,"toString",(function(){for(var t,e=Oo(this).entries,r=[],n=0;n<e.length;)t=e[n++],r.push(_o(t.key)+"="+_o(t.value));return r.join("&")}),{enumerable:!0}),Se(Go,"URLSearchParams"),qt({global:!0,forced:!fo},{URLSearchParams:Go}),fo||"function"!=typeof Ao||"function"!=typeof jo||qt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,r,n,o=[t];return arguments.length>1&&(b(e=arguments[1])&&(r=e.body,"URLSearchParams"===se(r)&&((n=e.headers?new jo(e.headers):new jo).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=zt(e,{body:h(0,String(r)),headers:h(0,n)}))),o.push(e)),Ao.apply(this,o)}});var Vo,zo={URLSearchParams:Go,getState:Oo},Wo=nn.codeAt,$o=a.URL,Jo=zo.URLSearchParams,Yo=zo.getState,Ko=rt.set,Zo=rt.getterFor("URL"),Qo=Math.floor,ti=Math.pow,ei=/[A-Za-z]/,ri=/[\d+-.A-Za-z]/,ni=/\d/,oi=/^(0x|0X)/,ii=/^[0-7]+$/,ai=/^\d+$/,ci=/^[\dA-Fa-f]+$/,ui=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,si=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,fi=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,li=/[\u0009\u000A\u000D]/g,hi=function(t,e){var r,n,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(r=vi(e.slice(1,-1))))return"Invalid host";t.host=r}else if(ki(t)){if(e=function(t){var e,r,n=[],o=t.toLowerCase().replace(yo,".").split(".");for(e=0;e<o.length;e++)r=o[e],n.push(vo.test(r)?"xn--"+ko(r):r);return n.join(".")}(e),ui.test(e))return"Invalid host";if(null===(r=pi(e)))return"Invalid host";t.host=r}else{if(si.test(e))return"Invalid host";for(r="",n=po(e),o=0;o<n.length;o++)r+=wi(n[o],yi);t.host=r}},pi=function(t){var e,r,n,o,i,a,c,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(o=u[n]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=oi.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?ai:8==i?ii:ci).test(o))return t;a=parseInt(o,i)}r.push(a)}for(n=0;n<e;n++)if(a=r[n],n==e-1){if(a>=ti(256,5-e))return null}else if(a>255)return null;for(c=r.pop(),n=0;n<r.length;n++)c+=r[n]*ti(256,3-n);return c},vi=function(t){var e,r,n,o,i,a,c,u=[0,0,0,0,0,0,0,0],s=0,f=null,l=0,h=function(){return t.charAt(l)};if(":"==h()){if(":"!=t.charAt(1))return;l+=2,f=++s}for(;h();){if(8==s)return;if(":"!=h()){for(e=r=0;r<4&&ci.test(h());)e=16*e+parseInt(h(),16),l++,r++;if("."==h()){if(0==r)return;if(l-=r,s>6)return;for(n=0;h();){if(o=null,n>0){if(!("."==h()&&n<4))return;l++}if(!ni.test(h()))return;for(;ni.test(h());){if(i=parseInt(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;l++}u[s]=256*u[s]+o,2!=++n&&4!=n||s++}if(4!=n)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;u[s++]=e}else{if(null!==f)return;l++,f=++s}}if(null!==f)for(a=s-f,s=7;0!=s&&a>0;)c=u[s],u[s--]=u[f+a-1],u[f+--a]=c;else if(8!=s)return;return u},di=function(t){var r,n,o,i;if("number"==typeof t){for(r=[],n=0;n<4;n++)r.unshift(t%256),t=Qo(t/256);return r.join(".")}if("object"==e(t)){for(r="",o=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++)0!==t[i]?(o>r&&(e=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(e=n,r=o),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),o===n?(r+=n?":":"::",i=!0):(r+=t[n].toString(16),n<7&&(r+=":")));return"["+r+"]"}return t},yi={},gi=co({},yi,{" ":1,'"':1,"<":1,">":1,"`":1}),mi=co({},gi,{"#":1,"?":1,"{":1,"}":1}),bi=co({},mi,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),wi=function(t,e){var r=Wo(t,0);return r>32&&r<127&&!k(e,t)?t:encodeURIComponent(t)},Si={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ki=function(t){return k(Si,t.scheme)},Li=function(t){return""!=t.username||""!=t.password},Ai=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},ji=function(t,e){var r;return 2==t.length&&ei.test(t.charAt(0))&&(":"==(r=t.charAt(1))||!e&&"|"==r)},Ri=function(t){var e;return t.length>1&&ji(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Ei=function(t){var e=t.path,r=e.length;!r||"file"==t.scheme&&1==r&&ji(e[0],!0)||e.pop()},Oi=function(t){return"."===t||"%2e"===t.toLowerCase()},Pi={},Ti={},Ui={},qi={},xi={},Ii={},Mi={},Ci={},Fi={},_i={},Hi={},Ni={},Bi={},Di={},Gi={},Xi={},Vi={},zi={},Wi={},$i={},Ji={},Yi=function(t,e,r,n){var o,i,a,c,u,s=r||Pi,f=0,l="",h=!1,p=!1,v=!1;for(r||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(fi,"")),e=e.replace(li,""),o=po(e);f<=o.length;){switch(i=o[f],s){case Pi:if(!i||!ei.test(i)){if(r)return"Invalid scheme";s=Ui;continue}l+=i.toLowerCase(),s=Ti;break;case Ti:if(i&&(ri.test(i)||"+"==i||"-"==i||"."==i))l+=i.toLowerCase();else{if(":"!=i){if(r)return"Invalid scheme";l="",s=Ui,f=0;continue}if(r&&(ki(t)!=k(Si,l)||"file"==l&&(Li(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=l,r)return void(ki(t)&&Si[t.scheme]==t.port&&(t.port=null));l="","file"==t.scheme?s=Di:ki(t)&&n&&n.scheme==t.scheme?s=qi:ki(t)?s=Ci:"/"==o[f+1]?(s=xi,f++):(t.cannotBeABaseURL=!0,t.path.push(""),s=Wi)}break;case Ui:if(!n||n.cannotBeABaseURL&&"#"!=i)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==i){t.scheme=n.scheme,t.path=n.path.slice(),t.query=n.query,t.fragment="",t.cannotBeABaseURL=!0,s=Ji;break}s="file"==n.scheme?Di:Ii;continue;case qi:if("/"!=i||"/"!=o[f+1]){s=Ii;continue}s=Fi,f++;break;case xi:if("/"==i){s=_i;break}s=zi;continue;case Ii:if(t.scheme=n.scheme,i==Vo)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query;else if("/"==i||"\\"==i&&ki(t))s=Mi;else if("?"==i)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query="",s=$i;else{if("#"!=i){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.path.pop(),s=zi;continue}t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query,t.fragment="",s=Ji}break;case Mi:if(!ki(t)||"/"!=i&&"\\"!=i){if("/"!=i){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,s=zi;continue}s=_i}else s=Fi;break;case Ci:if(s=Fi,"/"!=i||"/"!=l.charAt(f+1))continue;f++;break;case Fi:if("/"!=i&&"\\"!=i){s=_i;continue}break;case _i:if("@"==i){h&&(l="%40"+l),h=!0,a=po(l);for(var d=0;d<a.length;d++){var y=a[d];if(":"!=y||v){var g=wi(y,bi);v?t.password+=g:t.username+=g}else v=!0}l=""}else if(i==Vo||"/"==i||"?"==i||"#"==i||"\\"==i&&ki(t)){if(h&&""==l)return"Invalid authority";f-=po(l).length+1,l="",s=Hi}else l+=i;break;case Hi:case Ni:if(r&&"file"==t.scheme){s=Xi;continue}if(":"!=i||p){if(i==Vo||"/"==i||"?"==i||"#"==i||"\\"==i&&ki(t)){if(ki(t)&&""==l)return"Invalid host";if(r&&""==l&&(Li(t)||null!==t.port))return;if(c=hi(t,l))return c;if(l="",s=Vi,r)return;continue}"["==i?p=!0:"]"==i&&(p=!1),l+=i}else{if(""==l)return"Invalid host";if(c=hi(t,l))return c;if(l="",s=Bi,r==Ni)return}break;case Bi:if(!ni.test(i)){if(i==Vo||"/"==i||"?"==i||"#"==i||"\\"==i&&ki(t)||r){if(""!=l){var m=parseInt(l,10);if(m>65535)return"Invalid port";t.port=ki(t)&&m===Si[t.scheme]?null:m,l=""}if(r)return;s=Vi;continue}return"Invalid port"}l+=i;break;case Di:if(t.scheme="file","/"==i||"\\"==i)s=Gi;else{if(!n||"file"!=n.scheme){s=zi;continue}if(i==Vo)t.host=n.host,t.path=n.path.slice(),t.query=n.query;else if("?"==i)t.host=n.host,t.path=n.path.slice(),t.query="",s=$i;else{if("#"!=i){Ri(o.slice(f).join(""))||(t.host=n.host,t.path=n.path.slice(),Ei(t)),s=zi;continue}t.host=n.host,t.path=n.path.slice(),t.query=n.query,t.fragment="",s=Ji}}break;case Gi:if("/"==i||"\\"==i){s=Xi;break}n&&"file"==n.scheme&&!Ri(o.slice(f).join(""))&&(ji(n.path[0],!0)?t.path.push(n.path[0]):t.host=n.host),s=zi;continue;case Xi:if(i==Vo||"/"==i||"\\"==i||"?"==i||"#"==i){if(!r&&ji(l))s=zi;else if(""==l){if(t.host="",r)return;s=Vi}else{if(c=hi(t,l))return c;if("localhost"==t.host&&(t.host=""),r)return;l="",s=Vi}continue}l+=i;break;case Vi:if(ki(t)){if(s=zi,"/"!=i&&"\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=Vo&&(s=zi,"/"!=i))continue}else t.fragment="",s=Ji;else t.query="",s=$i;break;case zi:if(i==Vo||"/"==i||"\\"==i&&ki(t)||!r&&("?"==i||"#"==i)){if(".."===(u=(u=l).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(Ei(t),"/"==i||"\\"==i&&ki(t)||t.path.push("")):Oi(l)?"/"==i||"\\"==i&&ki(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&ji(l)&&(t.host&&(t.host=""),l=l.charAt(0)+":"),t.path.push(l)),l="","file"==t.scheme&&(i==Vo||"?"==i||"#"==i))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==i?(t.query="",s=$i):"#"==i&&(t.fragment="",s=Ji)}else l+=wi(i,mi);break;case Wi:"?"==i?(t.query="",s=$i):"#"==i?(t.fragment="",s=Ji):i!=Vo&&(t.path[0]+=wi(i,yi));break;case $i:r||"#"!=i?i!=Vo&&("'"==i&&ki(t)?t.query+="%27":t.query+="#"==i?"%23":wi(i,yi)):(t.fragment="",s=Ji);break;case Ji:i!=Vo&&(t.fragment+=wi(i,gi))}f++}},Ki=function(t){var e,r,n=Le(this,Ki,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(t),a=Ko(n,{type:"URL"});if(void 0!==o)if(o instanceof Ki)e=Zo(o);else if(r=Yi(e={},String(o)))throw TypeError(r);if(r=Yi(a,i,null,e))throw TypeError(r);var c=a.searchParams=new Jo,s=Yo(c);s.updateSearchParams(a.query),s.updateURL=function(){a.query=String(c)||null},u||(n.href=Qi.call(n),n.origin=ta.call(n),n.protocol=ea.call(n),n.username=ra.call(n),n.password=na.call(n),n.host=oa.call(n),n.hostname=ia.call(n),n.port=aa.call(n),n.pathname=ca.call(n),n.search=ua.call(n),n.searchParams=sa.call(n),n.hash=fa.call(n))},Zi=Ki.prototype,Qi=function(){var t=Zo(this),e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,a=t.path,c=t.query,u=t.fragment,s=e+":";return null!==o?(s+="//",Li(t)&&(s+=r+(n?":"+n:"")+"@"),s+=di(o),null!==i&&(s+=":"+i)):"file"==e&&(s+="//"),s+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==c&&(s+="?"+c),null!==u&&(s+="#"+u),s},ta=function(){var t=Zo(this),e=t.scheme,r=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(ba){return"null"}return"file"!=e&&ki(t)?e+"://"+di(t.host)+(null!==r?":"+r:""):"null"},ea=function(){return Zo(this).scheme+":"},ra=function(){return Zo(this).username},na=function(){return Zo(this).password},oa=function(){var t=Zo(this),e=t.host,r=t.port;return null===e?"":null===r?di(e):di(e)+":"+r},ia=function(){var t=Zo(this).host;return null===t?"":di(t)},aa=function(){var t=Zo(this).port;return null===t?"":String(t)},ca=function(){var t=Zo(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},ua=function(){var t=Zo(this).query;return t?"?"+t:""},sa=function(){return Zo(this).searchParams},fa=function(){var t=Zo(this).fragment;return t?"#"+t:""},la=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(u&&Nt(Zi,{href:la(Qi,(function(t){var e=Zo(this),r=String(t),n=Yi(e,r);if(n)throw TypeError(n);Yo(e.searchParams).updateSearchParams(e.query)})),origin:la(ta),protocol:la(ea,(function(t){var e=Zo(this);Yi(e,String(t)+":",Pi)})),username:la(ra,(function(t){var e=Zo(this),r=po(String(t));if(!Ai(e)){e.username="";for(var n=0;n<r.length;n++)e.username+=wi(r[n],bi)}})),password:la(na,(function(t){var e=Zo(this),r=po(String(t));if(!Ai(e)){e.password="";for(var n=0;n<r.length;n++)e.password+=wi(r[n],bi)}})),host:la(oa,(function(t){var e=Zo(this);e.cannotBeABaseURL||Yi(e,String(t),Hi)})),hostname:la(ia,(function(t){var e=Zo(this);e.cannotBeABaseURL||Yi(e,String(t),Ni)})),port:la(aa,(function(t){var e=Zo(this);Ai(e)||(""==(t=String(t))?e.port=null:Yi(e,t,Bi))})),pathname:la(ca,(function(t){var e=Zo(this);e.cannotBeABaseURL||(e.path=[],Yi(e,t+"",Vi))})),search:la(ua,(function(t){var e=Zo(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Yi(e,t,$i)),Yo(e.searchParams).updateSearchParams(e.query)})),searchParams:la(sa),hash:la(fa,(function(t){var e=Zo(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Yi(e,t,Ji)):e.fragment=null}))}),nt(Zi,"toJSON",(function(){return Qi.call(this)}),{enumerable:!0}),nt(Zi,"toString",(function(){return Qi.call(this)}),{enumerable:!0}),$o){var ha=$o.createObjectURL,pa=$o.revokeObjectURL;ha&&nt(Ki,"createObjectURL",(function(t){return ha.apply($o,arguments)})),pa&&nt(Ki,"revokeObjectURL",(function(t){return pa.apply($o,arguments)}))}Se(Ki,"URL"),qt({global:!0,forced:!fo,sham:!u},{URL:Ki}),qt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});ot.URL;var va="fetch"in window,da="Request"in window,ya="Headers"in window,ga={POST:"*",PUT:"*",PATCH:"*",DELETE:"*"},ma=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tokenFetchPath="/secsdk_csrf_token",this.tokenHeaderName="x-secsdk-csrf-token",this.tokenFetchTimeout=1e4,this.nativeXMLHttpRequestOpen=window.XMLHttpRequest.prototype.open,this.nativeXMLHttpRequestSend=window.XMLHttpRequest.prototype.send,this.nativeFetch=window.fetch,this.tokenMap={},this.protectionConfig={},this.monkeyPatchXMLHttpRequest(),this.monkeyPatchFetch()}var e,n,o;return e=t,(n=[{key:"setProtectedHost",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;this.protectionConfig={},"string"==typeof e?this.protectionConfig[e]=Object.assign({},ga):Array.isArray(e)?e.forEach((function(e){t.protectionConfig[e]=Object.assign({},ga)})):"[object Object]"===Object.prototype.toString.call(e)&&Object.keys(e).forEach((function(r){t.protectionConfig[r]=Object.assign({},ga);var n=e[r];"[object Object]"===Object.prototype.toString.call(n)&&Object.keys(n).forEach((function(e){t.protectionConfig[r][e.toUpperCase()]=n[e]}))})),Object.keys(this.protectionConfig).forEach((function(e){return t.fetchToken(e)}))}},{key:"fetchToken",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;return Array.isArray(e)?Promise.all(e.map((function(e){return t.fetchToken(e)}))):(this.tokenMap[e]||(this.tokenMap[e]=this.fetchTokenFromServer(e).then((function(r){return t.tokenMap[e]=r,r}))),Promise.resolve(this.tokenMap[e]).then((function(t){return t||"DOWNGRADE"})))}},{key:"fetchTokenFromLocal",value:function(t){var e=this.tokenMap[t];return e&&"string"==typeof e?e:"DOWNGRADE"}},{key:"fetchTokenFromServer",value:function(t){var e=this;return new Promise((function(r){var n=new XMLHttpRequest;n.addEventListener("load",(function(){if(200!==n.status)return console.error(new Error("Failed to fetch csrf token: host=".concat(t," status=").concat(n.status," statusText=").concat(n.statusText))),void r("");var e;try{e=JSON.parse(n.responseText)}catch(o){return console.error(new Error("Failed to parse csrf token: host=".concat(t," responseText=").concat(n.responseText," error=").concat(o.message))),void r("")}return 0!==e.status_code?(console.error(new Error("Failed to fetch csrf token: host=".concat(t," status_code=").concat(e.status_code," message=").concat(e.message))),void r("")):e.data&&e.data.token?void r(e.data.token):(console.error(new Error("Failed to fetch csrf token, empty token: host=".concat(t," data=").concat(e.data))),void r(""))})),n.addEventListener("error",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(t," error=network request failed"))),r("")})),n.addEventListener("abort",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(t," error=network request aborted"))),r("")})),n.addEventListener("timeout",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(t," error=timeout"))),r("")})),n.open("GET","".concat(window.location.protocol,"//").concat(t).concat(e.tokenFetchPath)),n.withCredentials=!0,n.timeout=e.tokenFetchTimeout,e.nativeXMLHttpRequestSend.call(n)}))}},{key:"shouldProtectRequest",value:function(t,e,r){e=e.toUpperCase();var n=this.protectionConfig;if(!n[t])return!1;if(!n[t][e])return!1;var o=n[t][e];return o instanceof RegExp?o.test(r):Array.isArray(o)?o.some((function(t){return t instanceof RegExp?t.test(r):t===r})):"*"===o||o===r}},{key:"monkeyPatchXMLHttpRequest",value:function(){var t=this;XMLHttpRequest.prototype.open=function(){this.openArgs=arguments,t.nativeXMLHttpRequestOpen.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){var e=this,r=this.openArgs,n=arguments,o=r[0]||"GET",i=new URL(r[1],window.location.href);if(!t.shouldProtectRequest(i.host,o,i.pathname))return t.nativeXMLHttpRequestSend.apply(this,n);if(r.length>=3&&!r[2]){var a=t.fetchTokenFromLocal(i.host);return this.setRequestHeader(t.tokenHeaderName,a),t.nativeXMLHttpRequestSend.apply(this,n)}t.fetchToken(i.host).then((function(r){e.setRequestHeader(t.tokenHeaderName,r),t.nativeXMLHttpRequestSend.apply(e,n)}))}}},{key:"monkeyPatchFetch",value:function(){if(va){var t=this;window.fetch=function(e,r){var n,o,i=this;da&&e instanceof Request?(n=e.url,o=e.method):(n=e,o=r&&r.method?r.method:"GET");var a=new URL(n,window.location.href);return t.shouldProtectRequest(a.host,o,a.pathname)?t.fetchToken(a.host).then((function(n){if(da&&e instanceof Request)e.headers.set(t.tokenHeaderName,n);else if((r=r||{}).headers=r.headers||{},ya&&r.headers instanceof Headers)r.headers.set(t.tokenHeaderName,n);else if(Array.isArray(r.headers)){var o=!1;r.headers.forEach((function(e){e[0]===t.tokenHeaderName&&(e[1]=n,o=!0)})),o||r.headers.push([t.tokenHeaderName,n])}else r.headers[t.tokenHeaderName]=n;return t.nativeFetch.apply(i,[e,r])})):t.nativeFetch.apply(this,[e,r])}}}}])&&r(e.prototype,n),o&&r(e,o),t}());t.csrf=ma,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.js.map
