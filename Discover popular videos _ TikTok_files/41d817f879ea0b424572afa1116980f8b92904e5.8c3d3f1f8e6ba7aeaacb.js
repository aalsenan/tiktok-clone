(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"1WwB":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d}));var r=n("Cdes");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(Number("".concat(e,"e").concat(t)))/Math.pow(10,t)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=1e3,n="K",r=1e3*t,i="M",u=1e3*r,o="B";return e<1e4?e.toString():e<r-1?"".concat(a(e/t)).concat(n):e<u-1?"".concat(a(e/r)).concat(i):"".concat(a(e/u)).concat(o)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(new Date).setHours(0,0,0,0)/1e3;return t-86400*e}function o(e,t){if(e&&!isNaN(e)){var n=new Date(Number(e)),r=new Date,a=r.getTime()-n.getTime(),i=864e5;return n.getFullYear()!==r.getFullYear()?"".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()):~~(a/i)>7?"".concat(n.getMonth()+1,"-").concat(n.getDate()):7===~~(a/i)?t?"1".concat(__("unit_week")):__("time_ago",{num:1,unit:__("unit_week")}):a>i?t?"".concat(~~(a/i)).concat(__("unit_day")):__("time_ago",{num:~~(a/i),unit:__("unit_day")}):a>36e5?t?"".concat(~~(a/36e5)).concat(__("unit_hr")):__("time_ago",{num:~~(a/36e5),unit:__("unit_hr")}):a>6e4?t?"".concat(~~(a/6e4)).concat(__("unit_min")):__("time_ago",{num:~~(a/6e4),unit:__("unit_min")}):t?"".concat(1+~~(a/1e3)).concat(__("unit_sec")):__("time_ago",{num:1+~~(a/1e3),unit:__("unit_sec")})}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/\u00a0/g," ");return t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reset,a=void 0!==n&&n,i=t.width,u=void 0===i?0:i,o=t.height,c=void 0===o?0:o,s=t.quality,d=void 0===s?55:s,l=t.webpFirst,p=void 0!==l&&l,v=e;if(a){var f=v.replace(/^(https?:)?\/\//,"").split("/");if("obj"!==f[1])return e;f[1]="img",v="//".concat(f.join("/"))}var h=!1;return h=r.c&&window.Modernizr?window.Modernizr.webp:p,"".concat(v,"~").concat(u,"x").concat(c,"_q").concat(d,".").concat(h?"webp":"image")}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.replace("- ".concat(t),"")+(t?" - ".concat(t):"");return n}},"6eHj":function(e,t,n){"use strict";var r=n("NthX"),a=n.n(r),i=n("mK0O"),u=n("eijD"),o=n("gqkn"),c=n("qftd"),s=n("hi5D"),d=n("lEqP");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t;switch(e){case s.PageType.TRENDING:case s.PageType.VIDEO:t=0;break;case s.PageType.DISCOVER:t=7;break;case s.PageType.MUSIC:t=6;break;case s.PageType.ANALYTICS:case s.PageType.PROFILE:case s.PageType.USER:t=3;break;case s.PageType.CHALLENGE:t=5}return t}var f={diggVideo:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,void 0!==t.pageType&&(t.channel_id=v(t.pageType),delete t.pageType),e.next=5,Object(o.h)("/api/commit/item/digg/",p({},t),p({method:"post",withCredentials:!0,headers:{"tt-csrf-token":r}},n)).catch((function(e){return{status_code:-1}}));case 5:if(2150!==(i=e.sent).status_code&&2210!==i.status_code){e.next=8;break}return e.abrupt("return",i.status_msg);case 8:if(0===i.status_code&&i.is_digg!==t.type){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",i.log_pb||{});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFollowingVideo:function(){var e=Object(u.a)(a.a.mark((function e(t,n){var r,i,u,c,s,l,v,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.h)("/api/item_list/",t,p({withCredentials:!0},n));case 2:if(r=e.sent,i=r.statusCode,u=r.items,c=void 0===u?[]:u,s=r.hasMore,l=r.maxCursor,v=r.minCursor,f=r.level,-1!==i){e.next=12;break}return e.abrupt("return",{statusCode:d.NET_ERROR});case 12:if(0===i){e.next=14;break}return e.abrupt("return",{maxCursor:l,list:[],hasMore:!1});case 14:return e.abrupt("return",{items:c,hasMore:Boolean(c.length)&&s,maxCursor:l,minCursor:v,level:f});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getCommentInfo:function(){var e=Object(u.a)(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.channel_id=v(r),e.next=3,Object(o.h)("/api/comment/list/",t,p({withCredentials:!0,baseURL:Object(o.c)()},n));case 3:return(i=e.sent).comments=Object(c.d)(i.comments||[]),-1===i.statusCode&&(i.status_code=-1),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getCommentReplyInfo:function(){var e=Object(u.a)(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.channel_id=v(r),e.next=3,Object(o.h)("/api/comment/list/reply/",t,p({withCredentials:!0,baseURL:Object(o.c)()},n));case 3:return(i=e.sent).comments=Object(c.d)(i.comments||[]),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()};t.a=f},McYT:function(e,t,n){"use strict";var r=n("octc"),a={addUserRelation:function(e){return{type:r.a,payload:e}},updateUserRelation:function(e){return{type:r.b,payload:e}}},i=n("GBDI"),u=n("hwml"),o=n("fhSU"),c=n("zM4u"),s=n("qUd9"),d=n("J8dG"),l={openBrowserMode:function(e){return{type:d.c,payload:e}},closeBrowserMode:function(){return{type:d.a}},setCurrentIndex:function(e){return{type:d.b,payload:e}}},p=n("xaLc"),v=n("D3sv"),f={userRelation:a,feedback:i.a,itemList:u.a,videoControl:o.b,videoCount:c.a,inbox:s.a,browserMode:l,liveStatus:p.a,liveUser:v.a};t.a=f},OWg0:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return l}));var r=n("P16E"),a=n("K92R"),i=n("vvX8"),u=n.n(i),o=n("Cdes"),c=n("7TFL"),s=function(e){var t=e.downloadLink,n=void 0===t?"":t,i=e.appType,c=e.pageName,s=e.enterMethod,d=e.samsung,l=void 0!==d&&d,p=e.wid;n||(n=l?r.DOWNLOAD_LINK.SAMSUNG:"t"===i?r.DOWNLOAD_LINK.T:r.DOWNLOAD_LINK.M);var v=Object(a.c)("webapp_launch_mode"),f=Object(a.c)("webapp_original_traffic_type"),h=/google|yahoo|yandex|bing|naver/gi.test(f),b={af_adset:v,pid:"paid"===v?"tiktokwebsem":h?"tiktokwebseo":"tiktokweb",af_siteid:Object(o.b)()||Object(o.a)()?"mobile":"pc",c:c,af_ad:s,web_id:p,af_ad_id:f},m=Object(a.c)("utm_source"),g=Object(a.c)("utm_medium"),y=Object(a.c)("utm_campaign"),O=Object(a.c)("referer_url"),_=Object(a.c)("referer_video_id"),w="".concat(m?"source:".concat(m):"").concat(g?"medium:".concat(g):"").concat(y?"campaign: ".concat(y):""),j="".concat(O?"referer_url:".concat(O,"}"):"").concat(_?"referer_video_id:".concat(_):"");return w&&(b.af_adset_id=w),j&&(b.af_channel=j),l&&(b.af_dp=r.DOWNLOAD_SAMSUNG_AFDP),"".concat(n,"?").concat(u.a.stringify(b))},d=function(e){var t=Object(o.d)()?"_self":"_blank",n=window.open(e,t);n&&(n.opener=null)},l=function(e){var t;try{t=window.__NEXT_DATA__.props.initialProps.$sgOpen}catch(r){}var n=c.d?"in.tiktok.com":/^https?:\/\/[a-zA-Z0-9-]+-sg/.test(e)||t?"t.tiktok.com":"m.tiktok.com";return{path:"/node-a/video/playsv",host:"https://".concat(n),params:{play_url:e}}}},Tb1B:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return o})),function(e){e.CHALLENGE="challenge",e.TEXT="text",e.DUET="duet",e.USER="user"}(r||(r={}));var a=0,i=1;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length)return[{type:r.TEXT,text:e}];var n=[];return t.sort((function(e,t){return e.start-t.start})),t.forEach((function(u,o){var c=u.start,s=u.end,d=u.awemeId,l=u.userId,p=u.hashtagName,v=u.hashtagId,f=u.type,h=u.userUniqueId,b=u.secUid;0===o?n.push({type:r.TEXT,text:e.substring(0,c)}):n.push({type:r.TEXT,text:e.substring(t[o-1].end,c)});var m=e.substring(c,s);f===a&&(d||l)?d?n.push({type:r.DUET,id:d,name:m,text:m}):n.push({type:r.USER,id:l,name:h||"",text:h?"@".concat(h," "):m,secUid:b}):f===i&&p?n.push({type:r.CHALLENGE,id:v,name:p,text:m}):n.push({type:r.TEXT,text:m})})),n.push({type:r.TEXT,text:e.substr(t[t.length-1].end)}),n}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length)return[{type:r.TEXT,text:e}];var n=[];return t.sort((function(e,t){return e.Start-t.Start})),t.forEach((function(u,o){var c=u.Start,s=u.End,d=u.AwemeId,l=u.UserId,p=u.HashtagName,v=u.HashtagId,f=u.Type,h=u.UserUniqueId,b=u.SecUid;0===o?n.push({type:r.TEXT,text:e.substring(0,c)}):n.push({type:r.TEXT,text:e.substring(t[o-1].End,c)});var m=e.substring(c,s);f===a&&(d||l)?d?n.push({type:r.DUET,id:d,name:m,text:m}):n.push({type:r.USER,id:l,name:h?"".concat(h):"",text:h?"@".concat(h," "):" ",SecUid:b}):f===i&&p?n.push({type:r.CHALLENGE,id:v,name:p,text:m}):n.push({type:r.TEXT,text:m})})),n.push({type:r.TEXT,text:e.substr(t[t.length-1].End)}),n}},hilu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("mXGw"),a=n.n(r);function i(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,i=void 0===r?"1em":r,u=(e.fill,e.style),o=e.className;return a.a.createElement("svg",{className:o,style:u,width:n,height:i,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"#20D5EC"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.1213 15.8787C38.2929 17.0503 38.2929 18.9497 37.1213 20.1213L23.6213 33.6213C22.4497 34.7929 20.5503 34.7929 19.3787 33.6213L10.8787 25.1213C9.70711 23.9497 9.70711 22.0503 10.8787 20.8787C12.0503 19.7071 13.9497 19.7071 15.1213 20.8787L21.5 27.2574L32.8787 15.8787C34.0503 14.7071 35.9497 14.7071 37.1213 15.8787Z",fill:"white"}))}},hwml:function(e,t,n){"use strict";var r=n("6CzD"),a=n("NthX"),i=n.n(a),u=n("dV/x"),o=n("eijD"),c=n("2co1"),s=n("OWg0"),d=n("gqkn"),l=n("cBaE"),p=n("jRNn"),v=n("os2B"),f=n("OSs+"),h=n("lEqP"),b=n("J2F4"),m=n("dLrZ"),g=n("octc"),y=n("4p5+"),O=n("hi5D"),_=n("Cdes"),w=n("97Lw");t.a={addItemList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var a=Object(o.a)(i.a.mark((function a(v,j){var k,x,C,L,E,I,T,N,D,P,R,U,S,M,A,q,F,X,B,G,K,V,W,H,z,J,Y,Z,$,Q,ee,te,ne,re,ae,ie,ue,oe,ce,se,de,le,pe,ve,fe,he,be,me;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(C=e.appId,L=e.needFirstVideo,E=void 0!==L&&L,I=e.firstVideo,T=e.router,N=Object(u.a)(e,["appId","needFirstVideo","firstVideo","router"]),D=j(),P=D.itemList,R=P[t],!E){a.next=9;break}return a.next=6,Object(p.a)({router:T,lang:N.language,appId:C});case 6:a.t0=a.sent,a.next=10;break;case 9:a.t0={statusCode:h.OK};case 10:if(U=a.t0,S=I||E&&(null===U||void 0===U?void 0:U.data),t!==O.PageList.FOLLOWING||!E||!S||0!==(null===S||void 0===S||null===(k=S.author)||void 0===k?void 0:k.relation)){a.next=14;break}return a.abrupt("return",{needRedirect:!0,length:0,statusCode:h.OK,hasMore:!1,maxCursor:0,listRetry:!1});case 14:if(t!==O.PageList.FOLLOWING&&t!==O.PageList.TRENDING){a.next=17;break}if(!(null===U||void 0===U?void 0:U.statusCode)||(null===U||void 0===U?void 0:U.statusCode)===h.OK){a.next=17;break}return a.abrupt("return",{length:0,statusCode:null===U||void 0===U?void 0:U.statusCode,hasMore:!1,maxCursor:0,listRetry:!1});case 17:M=!0,setTimeout((function(){if(M){var e=Object(_.b)()||Object(_.a)()?{}:{width:"560px"};w.a.open({content:__("server_error_title"),widthType:"auto",duration:3,style:e})}}),3e4),G={appId:C,baseURL:Object(d.b)(C)},a.t1=t,a.next=a.t1===O.PageList.VIDEO||a.t1===O.PageList.TRENDING?23:a.t1===O.PageList.CHALLENGE?32:a.t1===O.PageList.MUSIC?41:a.t1===O.PageList.USER||a.t1===O.PageList.USER_LIKE?50:a.t1===O.PageList.FOLLOWING?63:73;break;case 23:return K=N.language,V=N.id,W=N.count,a.next=26,c.a.getItemList({type:t,aid:1988,count:W,itemID:V,language:K},G);case 26:return H=a.sent,A=H.statusCode,q=H.itemList,B=H.hasMore,F=0,a.abrupt("break",74);case 32:return z=N.id,J=N.count,Y=N.maxCursor,Z=N.language,a.next=35,c.a.getItemList({type:t,aid:1988,challengeID:z,count:J,cursor:Y,language:Z},G);case 35:return $=a.sent,A=$.statusCode,q=$.itemList,F=$.cursor,B=$.hasMore,a.abrupt("break",74);case 41:return Q=N.id,ee=N.count,te=N.maxCursor,ne=N.language,a.next=44,c.a.getItemList({type:t,aid:1988,musicID:Q,count:ee,cursor:te,language:ne},G);case 44:return re=a.sent,A=re.statusCode,q=re.itemList,F=re.cursor,B=re.hasMore,a.abrupt("break",74);case 50:return ae=N.secUid,ie=N.count,ue=N.maxCursor,oe=N.language,a.next=53,c.a.getItemList({type:t,aid:1988,count:ie,cursor:ue,secUid:ae||"",language:oe},G);case 53:if(ce=a.sent,A=ce.statusCode,F=ce.cursor,B=ce.hasMore,!((q=ce.itemList)&&q.length>0)){a.next=62;break}return a.next=61,Promise.all(q.map(function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,u,o,c,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==(n=null===(r=t.video)||void 0===r?void 0:r.cover)&&void 0!==n?n:"",!t.scheduleTime||/\/node-a\/video\/playsv/.test(a)){e.next=9;break}return u=Object(s.a)(a),e.next=5,Object(l.e)(u.path,u.params,u.host);case 5:o=e.sent,c=o.signature,d=o.url,t.video.cover="".concat(d,"&_signature=").concat(encodeURIComponent(c));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 61:q=a.sent;case 62:return a.abrupt("break",74);case 63:return se=N.count,de=N.maxCursor,le=N.language,pe=N.level,ve=N.pullType,a.next=66,c.a.getItemList({type:t,aid:1988,level:Number(pe),count:se,cursor:de,language:le,pullType:Number(ve)},G);case 66:return fe=a.sent,A=fe.statusCode,X=fe.level,q=fe.itemList,B=fe.hasMore,F=fe.cursor,a.abrupt("break",74);case 73:A=-1;case 74:return M=!1,he=Object(p.b)(S,null!==(x=q)&&void 0!==x?x:[]),t===O.PageList.FOLLOWING&&R&&R.length&&(be=new Set,R.slice(0,2).forEach((function(e){be.add(e.id)})),he=he.filter((function(e){return!be.has(e.id)}))),a.next=79,Promise.all([S].concat(Object(r.a)(he)).map(function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,u,o,c,d,p,f,h,b,m,O,_,w,j,k;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(u=null===t||void 0===t||null===(n=t.author)||void 0===n?void 0:n.id,o=null===t||void 0===t||null===(r=t.author)||void 0===r?void 0:r.relation,c=null===t||void 0===t||null===(a=t.music)||void 0===a?void 0:a.authorFtc,p=(d=t||{}).itemMute,f=d.takeDown,h=d.video,b=(h=void 0===h?{}:h).cover,m=void 0===b?"":b,v({type:g.a,payload:{id:String(u),relation:Number(o)}}),(c||p)&&v({type:y.e,payload:{vid:t.id}}),e.prev=10,O=f?"":m,!t.vl1||t.showNotPass||/\/node-a\/video\/playsv/.test(O)||t.forFriend){e.next=20;break}return _=Object(s.a)(f?"":m),e.next=16,Object(l.e)(_.path,_.params,_.host);case 16:w=e.sent,j=w.signature,k=w.url,t.video.cover="".concat(k,"&_signature=").concat(encodeURIComponent(j));case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(10);case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,null,[[10,22]])})));return function(t){return e.apply(this,arguments)}}()));case 79:return he=a.sent,R&&f.c.event(b.z.LOAD_MORE,{is_success:(null===(me=q)||void 0===me?void 0:me.length)?1:0,error_code:A}),he.shift(),A===h.OK&&v({type:n?m.d:m.a,payload:{key:t,list:n&&S?[S].concat(Object(r.a)(he)):he}}),a.abrupt("return",{level:X,length:he.length,statusCode:A,hasMore:B,maxCursor:F,listRetry:!R&&A===h.NET_ERROR});case 84:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},discoverFollowerList:function(e,t){return function(){var n=Object(o.a)(i.a.mark((function n(r,a){var u,o,c,s,l,p,f,b,g,y,O;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.appId,c=a(),s=c.itemList,l=s[t]||[],n.next=5,v.a.getDiscoverUser(e,{baseURL:Object(d.b)(o)});case 5:return p=n.sent,f=p.statusCode,b=p.userInfoList,g=void 0===b?[]:b,y=p.offset,O=null!==(u=null===g||void 0===g?void 0:g.reduce((function(e,t){var n=t.itemList;return n&&n[0]&&e.push(null===n||void 0===n?void 0:n[0]),e}),[]))&&void 0!==u?u:[],f===h.OK&&r({type:m.a,payload:{key:t,list:O.slice(0,50-l.length)}}),n.abrupt("return",{statusCode:f,offset:null!==y&&void 0!==y?y:"",length:O.length});case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},resetItemList:function(e){return{type:m.d,payload:{key:e,list:[]}}},filterLikeList:function(e){var t=e.listKey,n=e.filterFunction;return function(){var e=Object(o.a)(i.a.mark((function e(r,a){var u,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=a(),o=u.videoCount,r({type:m.c,payload:{key:t,filterFunction:n,videoCount:o}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},deleteItem:function(e,t){return function(){var n=Object(o.a)(i.a.mark((function n(r,a){var u;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=a(),u.itemList[t].splice(e,1),r({type:m.b,payload:{key:e}});case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},updateItem:function(e,t,n){return function(){var r=Object(o.a)(i.a.mark((function r(a,u){var o,c;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=u(),(c=o.itemList)[t][e]=JSON.parse(JSON.stringify(c[t][e])),Object.keys(n).forEach((function(r){c[t][e][r]=n[r]})),a({type:m.e,payload:{key:e}});case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}}},jRNn:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n("6CzD"),a=n("NthX"),i=n.n(a),u=n("mK0O"),o=n("eijD"),c=n("hi5D"),s=n("jR5A"),d=n("K92R");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){var e=location.hash.split("/");return{uniqueId:e[1],id:e[3]}},f=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,a,u,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.router,r=t.lang,a=t.appId,e.prev=1,e.next=4,Object(s.b)(c.PageType.VIDEO,p(p(p({},v()),null===n||void 0===n?void 0:n.query),{},{lang:r,appId:a}));case 4:return o=e.sent,e.abrupt("return",{data:null===o||void 0===o||null===(u=o.itemInfo)||void 0===u?void 0:u.itemStruct,statusCode:(null===o||void 0===o?void 0:o.statusCode)||0});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{data:null});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var n=JSON.parse(Object(d.c)("video_detail_info")||null);Object(d.f)("video_detail_info");var a=n&&n.itemList&&n.itemList.slice(n.index)||[],i=e?[e].concat(Object(r.a)(a)):a,u=[].concat(Object(r.a)(a),Object(r.a)(t.filter((function(e){return-1===i.findIndex((function(t){return e.id===t.id}))}))));return u}catch(o){return t}}},os2B:function(e,t,n){"use strict";var r=n("NthX"),a=n.n(r),i=n("mK0O"),u=n("eijD"),o=n("hisu"),c=n("yBJb"),s=n("gqkn");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"followUser",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,e.next=4,Object(s.h)("/api/commit/follow/user/",t,l({method:"post",withCredentials:!0,headers:{"tt-csrf-token":r}},n)).catch((function(e){return{status_code:-1}}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDiscoverUser",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.h)("/api/discover/user/",t,l({withCredentials:!0},n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendUser",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.h)("/api/recommend/user/",t,l({withCredentials:!0},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"writeImpression",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.h)("/api/impression/write/",l({},t.query),l({method:"post",withCredentials:!0,data:t.data},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowingList",value:function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.h)("/api/user/list/",t,l({withCredentials:!0,_signature:!0},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=new p},qftd:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d}));n("mK0O"),n("gBII");var r=n("1WwB"),a=n("Tb1B"),i=n("jR5A");function u(e){var t,n,u,o=e.id,c=e.desc,s=e.textExtra,d=e.takeDown,l=e.createTime,p=null!==(t=null===e||void 0===e?void 0:e.author)&&void 0!==t?t:{},v=p.uniqueId,f=p.secUid,h=null!==(n=null===e||void 0===e?void 0:e.video)&&void 0!==n?n:{},b=h.cover,m=h.originCover,g=h.dynamicCover,y=null!==(u=null===e||void 0===e?void 0:e.music)&&void 0!==u?u:{},O=y.id,_=y.title,w=y.authorName;return{poster:d?"":b||m||(null!==g&&void 0!==g?g:""),videoPath:Object(i.f)(v,null!==f&&void 0!==f?f:"",o),challengeText:Object(a.c)(c,null!==s&&void 0!==s?s:[]),authorHref:Object(i.e)(v,null!==f&&void 0!==f?f:""),musicNameWithAuthor:Object(r.c)(_,null!==w&&void 0!==w?w:""),musicHref:Object(i.c)(_,O),createTime:1e3*Number(l)}}function o(e,t){var n,r=null!==(n=null===e||void 0===e?void 0:e.music)&&void 0!==n?n:{},a=r.title,i=void 0===a?"":a,u=(r.authorName,r.id),o=void 0===u?"":u,c=r.authorFtc,s=t.musicNameWithAuthor,d=t.musicHref;return{authorFtc:Boolean(c),musicNameWithAuthor:s,musicHref:d,musicName:i,musicId:o}}function c(e){var t,n=e.authorStats,r=null!==(t=null===e||void 0===e?void 0:e.author)&&void 0!==t?t:{},a=r.nickname,i=r.uniqueId,u=r.secUid,o=r.id,c=r.avatarThumb,s=r.avatarMedium,d=r.verified,l=r.relation,p=r.secret;return{nickName:a,uniqueId:i,secUid:null!==u&&void 0!==u?u:"",userId:o,covers:[c||s],verified:null!==d&&void 0!==d&&d,relation:l,secret:null!==p&&void 0!==p&&p,stats:n,signature:r.signature}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.user||{},n=t.unique_id,r=t.avatar_thumb,a=t.sec_uid,i=t.custom_verify,u=t.enterprise_verify_reason,o=t.nickname,c=t.uid;return e.user={unique_id:n,avatar_thumb:r,is_verified:i,enterprise_verify_reason:u,sec_uid:a,nickname:o,uid:c},e.reply_comment&&(e.reply_comment=s(e.reply_comment)),e}))}function d(e){var t,n;return{avatarThumb:(null===e||void 0===e||null===(t=e.avatar_thumb)||void 0===t?void 0:t.url_list[1])||(null===e||void 0===e||null===(n=e.avatar_thumb)||void 0===n?void 0:n.url_list[0]),uniqueId:e.unique_id,id:e.uid,nickname:e.nickname,verified:!(!e.custom_verify&&!e.enterprise_verify_reason),relation:e.follow_status}}},xaLc:function(e,t,n){"use strict";var r=n("8t8n");t.a={addLiveStatus:function(e){return{type:r.a,payload:e}}}},zM4u:function(e,t,n){"use strict";var r=n("aNYv"),a=n("dV/x"),i=n("NthX"),u=n.n(i),o=n("eijD"),c=n("gqkn"),s=n("6eHj"),d=n("cBaE"),l=n("ho2T");t.a={addVideoCount:function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:l.a,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setVideoCount:function(e){return{type:l.a,payload:e}},updateLikeVideo:function(e){return function(){var t=Object(o.a)(u.a.mark((function t(n){var i,o,p,v,f,h,b,m,g,y,O;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.vid,o=e.liked,p=e.likeCount,v=e.commentCount,f=e.appId,h=e.token,b=void 0===h?"":h,m=Object(a.a)(e,["vid","liked","likeCount","commentCount","appId","token"]),n({type:l.c,payload:{vid:i,liked:!o,commentCount:v,likeCount:o?p-1:p+1}}),t.next=4,Promise.all([s.a.diggVideo(m,{baseURL:Object(c.b)(f)},b),Object(d.b)(3e3)]);case 4:return g=t.sent,y=Object(r.a)(g,1),(O=y[0])&&"string"!==typeof O||n({type:l.c,payload:{vid:i,liked:o,likeCount:p,commentCount:v}}),t.abrupt("return",O);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateVideoComment:function(e){return function(t,n){var r=e.vid,a=e.count,i=n().videoCount[r],u=i.liked,o=i.likeCount;a!==i.commentCount&&t({type:l.d,payload:{vid:r,liked:u,commentCount:a,likeCount:o}})}}}}}]);